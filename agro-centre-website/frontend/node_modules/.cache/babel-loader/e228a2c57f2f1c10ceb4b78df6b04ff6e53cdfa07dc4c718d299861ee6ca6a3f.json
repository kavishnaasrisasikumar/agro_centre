{"ast":null,"code":"/**\r\n * API Service\r\n * Handles all API calls to backend\r\n */\n\nimport axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Create axios instance\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests\napiClient.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Auth API calls\nexport const registerUser = userData => {\n  return apiClient.post('/auth/register', userData);\n};\nexport const loginUser = credentials => {\n  return apiClient.post('/auth/login', credentials);\n};\nexport const getCurrentUser = () => {\n  return apiClient.get('/auth/me');\n};\n\n// Product API calls\nexport const getAllProducts = (category = null) => {\n  const url = category ? `/products?category=${category}` : '/products';\n  return apiClient.get(url);\n};\nexport const getProductById = id => {\n  return apiClient.get(`/products/${id}`);\n};\n\n// Prediction API calls\nexport const uploadAndPredict = file => {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/predict', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n};\nexport const getUserPredictions = () => {\n  return apiClient.get('/predict');\n};\nexport const getPredictionById = id => {\n  return apiClient.get(`/predict/${id}`);\n};\nexport default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","registerUser","userData","post","loginUser","credentials","getCurrentUser","get","getAllProducts","category","url","getProductById","id","uploadAndPredict","file","formData","FormData","append","getUserPredictions","getPredictionById"],"sources":["D:/Consult/agro-centre-website/frontend/src/services/api.js"],"sourcesContent":["/**\r\n * API Service\r\n * Handles all API calls to backend\r\n */\r\n\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Create axios instance\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add token to requests\r\napiClient.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Auth API calls\r\nexport const registerUser = (userData) => {\r\n  return apiClient.post('/auth/register', userData);\r\n};\r\n\r\nexport const loginUser = (credentials) => {\r\n  return apiClient.post('/auth/login', credentials);\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return apiClient.get('/auth/me');\r\n};\r\n\r\n// Product API calls\r\nexport const getAllProducts = (category = null) => {\r\n  const url = category ? `/products?category=${category}` : '/products';\r\n  return apiClient.get(url);\r\n};\r\n\r\nexport const getProductById = (id) => {\r\n  return apiClient.get(`/products/${id}`);\r\n};\r\n\r\n// Prediction API calls\r\nexport const uploadAndPredict = (file) => {\r\n  const formData = new FormData();\r\n  formData.append('image', file);\r\n\r\n  return apiClient.post('/predict', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n};\r\n\r\nexport const getUserPredictions = () => {\r\n  return apiClient.get('/predict');\r\n};\r\n\r\nexport const getPredictionById = (id) => {\r\n  return apiClient.get(`/predict/${id}`);\r\n};\r\n\r\nexport default apiClient;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAEjF;AACA,MAAMC,SAAS,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC7BC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAH,SAAS,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC7C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMK,YAAY,GAAIC,QAAQ,IAAK;EACxC,OAAOb,SAAS,CAACc,IAAI,CAAC,gBAAgB,EAAED,QAAQ,CAAC;AACnD,CAAC;AAED,OAAO,MAAME,SAAS,GAAIC,WAAW,IAAK;EACxC,OAAOhB,SAAS,CAACc,IAAI,CAAC,aAAa,EAAEE,WAAW,CAAC;AACnD,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAClC,OAAOjB,SAAS,CAACkB,GAAG,CAAC,UAAU,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAGA,CAACC,QAAQ,GAAG,IAAI,KAAK;EACjD,MAAMC,GAAG,GAAGD,QAAQ,GAAG,sBAAsBA,QAAQ,EAAE,GAAG,WAAW;EACrE,OAAOpB,SAAS,CAACkB,GAAG,CAACG,GAAG,CAAC;AAC3B,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIC,EAAE,IAAK;EACpC,OAAOvB,SAAS,CAACkB,GAAG,CAAC,aAAaK,EAAE,EAAE,CAAC;AACzC,CAAC;;AAED;AACA,OAAO,MAAMC,gBAAgB,GAAIC,IAAI,IAAK;EACxC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,CAAC;EAE9B,OAAOzB,SAAS,CAACc,IAAI,CAAC,UAAU,EAAEY,QAAQ,EAAE;IAC1CvB,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAM0B,kBAAkB,GAAGA,CAAA,KAAM;EACtC,OAAO7B,SAAS,CAACkB,GAAG,CAAC,UAAU,CAAC;AAClC,CAAC;AAED,OAAO,MAAMY,iBAAiB,GAAIP,EAAE,IAAK;EACvC,OAAOvB,SAAS,CAACkB,GAAG,CAAC,YAAYK,EAAE,EAAE,CAAC;AACxC,CAAC;AAED,eAAevB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}